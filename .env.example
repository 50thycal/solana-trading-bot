# ===============================================================================
# SOLANA SNIPER BOT CONFIGURATION
# ===============================================================================
# Copy this file to .env and fill in your values.
# Lines starting with # are comments and will be ignored.
# ===============================================================================

# ===============================================================================
# CORE CONFIGURATION (REQUIRED)
# ===============================================================================

# Your wallet's private key in base58 format
# IMPORTANT: Keep this secure and never commit to version control
PRIVATE_KEY=

# RPC Configuration (Helius recommended)
# Get your API key at: https://helius.dev
RPC_ENDPOINT=https://mainnet.helius-rpc.com/?api-key=YOUR_HELIUS_API_KEY
RPC_WEBSOCKET_ENDPOINT=wss://mainnet.helius-rpc.com/?api-key=YOUR_HELIUS_API_KEY

# Optional: Backup RPC endpoints (comma-separated) for failover
# These will be used if the primary endpoint fails
RPC_BACKUP_ENDPOINTS=

# Solana commitment level: processed | confirmed | finalized
# "confirmed" is recommended for balance of speed and reliability
COMMITMENT_LEVEL=confirmed

# ===============================================================================
# MODE CONFIGURATION
# ===============================================================================

# Dry run mode: true = log trades without executing, false = live trading
# IMPORTANT: Start with true to test your configuration safely
DRY_RUN=true

# Log verbosity: trace | debug | info | warn | error
LOG_LEVEL=info

# ===============================================================================
# TRADING PARAMETERS
# ===============================================================================

# Token to use as quote currency (what you're spending)
# Options: WSOL, USDC, or a full token mint address
QUOTE_MINT=WSOL

# Amount to spend per trade (in quote token units)
# Example: 0.01 = 0.01 SOL per trade if QUOTE_MINT=WSOL
QUOTE_AMOUNT=0.01

# Slippage tolerance (percentage)
# Higher = more likely to execute but potentially worse price
BUY_SLIPPAGE=20
SELL_SLIPPAGE=30

# Delay before auto-buying after pool detection (milliseconds)
# 0 = buy immediately when filters pass
AUTO_BUY_DELAY=0

# Automatically sell when price targets are hit
AUTO_SELL=true

# Delay before checking for auto-sell (milliseconds)
AUTO_SELL_DELAY=0

# Process only one token at a time (prevents overexposure)
ONE_TOKEN_AT_A_TIME=true

# Take profit percentage (sell when price increases by this %)
TAKE_PROFIT=40

# Stop loss percentage (sell when price drops by this %)
STOP_LOSS=20

# Price monitoring settings (milliseconds)
PRICE_CHECK_INTERVAL=2000
PRICE_CHECK_DURATION=600000

# ===============================================================================
# TRANSACTION EXECUTION
# ===============================================================================

# Executor type: default | warp | jito
# "jito" is recommended for MEV protection
TRANSACTION_EXECUTOR=jito

# Default executor settings (used when TRANSACTION_EXECUTOR=default)
COMPUTE_UNIT_LIMIT=101337
COMPUTE_UNIT_PRICE=421197

# Warp/Jito executor fee in SOL
CUSTOM_FEE=0.006

# Retry settings
MAX_BUY_RETRIES=10
MAX_SELL_RETRIES=10

# ===============================================================================
# FILTER CONFIGURATION
# ===============================================================================

# Filter preset: strict | balanced | aggressive | custom
# - strict: All safety checks, 5-50 SOL pools (safest)
# - balanced: Core safety checks, 2-100 SOL pools
# - aggressive: Minimal checks, 1-500 SOL pools (riskiest)
# - custom: Use individual CHECK_IF_* flags below
FILTER_PRESET=strict

# Custom filter flags (only used when FILTER_PRESET=custom)
# Set to true to enable each safety check

# Check if LP tokens are burned (prevents rug pulls via LP withdrawal)
CHECK_IF_BURNED=true

# Check if mint authority is renounced (prevents token supply manipulation)
CHECK_IF_MINT_IS_RENOUNCED=true

# Check if token is not freezable (prevents freeze authority abuse)
CHECK_IF_FREEZABLE=true

# Check if token metadata is immutable
CHECK_IF_MUTABLE=true

# Check if token has social links in metadata
CHECK_IF_SOCIALS=true

# Pool size range in SOL (filters out tiny/huge pools)
MIN_POOL_SIZE=5
MAX_POOL_SIZE=50

# Filter timing settings (milliseconds)
FILTER_CHECK_INTERVAL=2000
FILTER_CHECK_DURATION=60000

# Filters must pass this many consecutive times before buying
# Helps avoid false positives from transient blockchain states
CONSECUTIVE_FILTER_MATCHES=3

# ===============================================================================
# SNIPE LIST MODE (Alternative to filters)
# ===============================================================================

# Enable snipe list mode (bypasses all filters)
USE_SNIPE_LIST=false

# Snipe list file refresh interval (milliseconds)
SNIPE_LIST_REFRESH_INTERVAL=30000

# ===============================================================================
# BOT BEHAVIOR
# ===============================================================================

# Pre-load all existing OpenBook markets on startup
# Improves speed but increases startup time and memory usage
PRE_LOAD_EXISTING_MARKETS=false

# Cache newly discovered markets during runtime
CACHE_NEW_MARKETS=false

# Enable CPMM (Constant Product Market Maker) pool detection
# CPMM is the newer Raydium pool type used by most new launches
# These pools don't require OpenBook markets and use a different swap mechanism
ENABLE_CPMM=true

# ===============================================================================
# OPERATIONAL SETTINGS
# ===============================================================================

# Health check server port
HEALTH_PORT=8080

# Directory for persistent data (SQLite database, logs, etc.)
DATA_DIR=./data

# ===============================================================================
# NOTIFICATIONS (Future - Phase 5)
# ===============================================================================

# Discord webhook URL for trade notifications
DISCORD_WEBHOOK_URL=

# Telegram bot configuration
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ===============================================================================
# RISK CONTROLS (Phase 2)
# ===============================================================================

# Maximum total SOL deployed across all open positions
# Bot will block new trades if this limit would be exceeded
MAX_TOTAL_EXPOSURE_SOL=0.5

# Maximum trades per hour (rolling window)
# Prevents rapid trading during volatile conditions
MAX_TRADES_PER_HOUR=10

# Minimum SOL to keep in wallet as buffer for gas/recovery
# Bot will not trade if balance would drop below this amount
MIN_WALLET_BUFFER_SOL=0.05

# Maximum time to hold a position in milliseconds (0 = disabled)
# When enabled, positions will be sold after this duration regardless of P&L
# Example: 3600000 = 1 hour, 0 = hold indefinitely until TP/SL
MAX_HOLD_DURATION_MS=0

# ===============================================================================
# EXECUTION QUALITY (Phase 4)
# ===============================================================================

# Simulate transactions before sending (catches errors early, saves fees)
# Strongly recommended to keep enabled
SIMULATE_TRANSACTION=true

# Dynamic priority fee estimation (for default executor only)
# When enabled, queries recent network fees and uses configured percentile
USE_DYNAMIC_FEE=false

# Percentile of recent fees to use (0-100, higher = more aggressive)
PRIORITY_FEE_PERCENTILE=75

# Min/max bounds for dynamic priority fees (in microLamports)
MIN_PRIORITY_FEE=10000
MAX_PRIORITY_FEE=1000000

# Enable fallback executor (Jito -> Default RPC on failure)
# Only applies when TRANSACTION_EXECUTOR=jito
USE_FALLBACK_EXECUTOR=true

# Jito bundle confirmation settings (milliseconds)
# How long to wait for bundle to land before giving up
JITO_BUNDLE_TIMEOUT=60000

# How often to poll Jito for bundle status
JITO_BUNDLE_POLL_INTERVAL=2000

# Pre-compute transactions during filter checks for faster execution
# Prepares transaction in parallel with filter validation
PRECOMPUTE_TRANSACTION=true
